# 产品分类规则文档

## 概述
本文档定义了知识库系统中产品自动分类的规则、标准和逻辑。

## 分类体系

### 一级分类：产品大类

#### 1. 紧固件 (Fasteners)
包含所有用于连接、紧固、固定的标准件和定制件。

**二级分类：**
- **螺栓螺钉 (Bolts & Screws)**: 各种螺栓、螺钉、螺丝
- **螺母 (Nuts)**: 各种螺母、螺帽
- **垫圈垫片 (Washers)**: 各种垫圈、垫片、挡圈
- **销铆钉 (Pins & Rivets)**: 各种销钉、铆钉、定位件

#### 2. 家具 (Furniture)
包含所有用于居住、办公、商业的家具产品。

**二级分类：**
- **座椅类 (Seating)**: 椅子、座椅、凳子
- **桌台类 (Tables)**: 桌子、台子、工作台
- **沙发类 (Sofas)**: 沙发、组合沙发、休息椅
- **柜架类 (Cabinets & Shelves)**: 柜子、架子、储物家具
- **床具类 (Beds)**: 床、床具、卧具

#### 3. 建材 (Building Materials)
包含所有用于建筑、装修的材料。

**二级分类：**
- **金属材料 (Metal Materials)**: 钢材、有色金属、金属制品
- **木材材料 (Wood Materials)**: 原木、人造板、木制品
- **装饰材料 (Decorative Materials)**: 瓷砖、涂料、壁纸、装饰板
- **防水保温 (Waterproofing & Insulation)**: 防水材料、保温材料、密封材料

## 关键词匹配规则

### 紧固件关键词库

#### 螺栓螺钉类 (Bolts & Screws)
**中文关键词：**
- 基础类：螺栓、螺钉、螺丝、机螺钉、紧固件
- 头部类型：六角、内六角、外六角、沉头、平头、盘头、圆头、半圆头
- 特殊类型：自攻、自钻、钻尾、马车、方头、T型、地脚
- 英文关键词：bolt, screw, hex bolt, socket screw, countersunk, self tapping, drilling, carriage

**匹配规则：**
- `六角螺栓` → 紧固件-螺栓螺钉
- `自攻螺钉` → 紧固件-螺栓螺钉 (标记为定制件可能性)
- `machine screw` → 紧固件-螺栓螺钉

#### 螺母类 (Nuts)
**中文关键词：**
- 基础类：螺母、螺帽、紧固螺母
- 类型：六角螺母、法兰螺母、锁紧螺母、盖形螺母、蝶形螺母、焊接螺母
- 英文关键词：nut, hex nut, flange nut, lock nut, cap nut, wing nut, weld nut

**匹配规则：**
- `六角螺母` → 紧固件-螺母
- `lock nut` → 紧固件-螺母

#### 垫圈垫片类 (Washers)
**中文关键词：**
- 基础类：垫圈、垫片、垫片
- 类型：平垫圈、弹簧垫圈、齿形垫圈、防松垫圈、波形垫圈
- 英文关键词：washer, flat washer, spring washer, lock washer

**匹配规则：**
- `平垫圈` → 紧固件-垫圈垫片
- `spring washer` → 紧固件-垫圈垫片

#### 销铆钉类 (Pins & Rivets)
**中文关键词：**
- 销类：销、销钉、圆柱销、锥销、开口销、弹性销、定位销
- 铆钉类：铆钉、实心铆钉、空心铆钉、半空心铆钉、拉铆钉
- 英文关键词：pin, dowel pin, cotter pin, rivet, blind rivet

**匹配规则：**
- `圆柱销` → 紧固件-销铆钉
- `blind rivet` → 紧固件-销铆钉

### 家具关键词库

#### 座椅类 (Seating)
**中文关键词：**
- 基础类：椅子、座椅、椅、凳子
- 类型：办公椅、会议椅、接待椅、吧椅、餐椅、转椅、扶手椅
- 英文关键词：chair, seating, office chair, bar stool, dining chair

#### 桌台类 (Tables)
**中文关键词：**
- 基础类：桌子、桌、台、工作台
- 类型：办公桌、会议桌、茶几、接待台、餐桌、写字台
- 英文关键词：table, desk, office desk, conference table, coffee table

#### 沙发类 (Sofas)
**中文关键词：**
- 基础类：沙发、组合沙发、沙发床
- 类型：办公沙发、休息沙发、贵妃椅、躺椅
- 英文关键词：sofa, couch, lounge chair

#### 柜架类 (Cabinets & Shelves)
**中文关键词：**
- 柜类：柜、柜子、衣柜、书柜、文件柜、储物柜、展示柜
- 架类：架、架子、货架、书架
- 英文关键词：cabinet, wardrobe, bookcase, shelf, storage

#### 床具类 (Beds)
**中文关键词：**
- 基础类：床、床具、卧具
- 类型：双人床、单人床、上下铺、子母床
- 英文关键词：bed, bunk bed, single bed, double bed

### 建材关键词库

#### 金属材料 (Metal Materials)
**中文关键词：**
- 基础类：钢、钢材、金属、金属材料
- 具体类型：不锈钢、铝合金、铜材、锌材、铁材
- 形态：钢板、钢管、钢条、钢丝、型钢
- 英文关键词：steel, stainless steel, aluminum, copper, metal

**匹配规则：**
- `不锈钢板` → 建材-金属材料
- `aluminum alloy` → 建材-金属材料

#### 木材材料 (Wood Materials)
**中文关键词：**
- 基础类：木、木材、木料、木制品
- 人造板：胶合板、密度板、刨花板、细木工板、中纤板
- 实木：实木、原木、橡木、松木
- 英文关键词：wood, timber, plywood, mdf, particle board

#### 装饰材料 (Decorative Materials)
**中文关键词：**
- 瓷砖类：瓷砖、地砖、墙砖、马赛克
- 涂料类：涂料、油漆、乳胶漆、防水漆
- 壁纸类：壁纸、墙纸、壁布
- 门窗类：门、窗、防盗门、断桥铝
- 英文关键词：tile, paint, wallpaper, door, window

#### 防水保温 (Waterproofing & Insulation)
**中文关键词：**
- 防水类：防水、防水材料、防水卷材、密封胶
- 保温类：保温、保温材料、隔热、保温棉
- 密封类：密封、密封条、胶带、填缝剂
- 英文关键词：waterproof, insulation, sealing, tape

## 定制件识别规则

### 定制件标识关键词
**中文关键词：**
- 定制、异形、特殊、非标、来图、客户设计、量身定制、特殊规格

**英文关键词：**
- custom, special, bespoke, tailored, made-to-order, oem, odm, non-standard

### 定制件判定逻辑
1. **直接匹配**：文件名包含任何定制件关键词 → 标记为定制件
2. **技术特征**：包含"异形"、"特殊规格"等 → 标记为定制件
3. **客户标识**：包含客户名称或项目编号 → 可能为定制件
4. **图纸标识**：包含"图号"、"图纸"等 → 可能为定制件

### 标准件判定逻辑
1. **标准型号**：包含国标、行标编号 → 标记为标准件
2. **通用描述**：仅包含标准规格描述 → 标记为标准件
3. **批量特征**：包含"批量"、"现货"等 → 标记为标准件

## 数据源识别规则

### 数据源类型及关键词
- **邮件 (email)**: email, 邮件, gmail, outlook, @符号
- **微信 (wechat)**: 微信, wechat, 企业微信
- **手动录入 (manual)**: 手动, manual, 人工录入
- **扫描文件 (scan)**: 扫描, scan, scanner
- **CAD文件 (cad)**: cad, dwg, dxf, autocad

## 分类置信度计算

### 置信度评分规则
- **高置信度 (0.8-1.0)**: 匹配3个或以上相关关键词
- **中置信度 (0.5-0.8)**: 匹配2个相关关键词
- **低置信度 (0.2-0.5)**: 匹配1个关键词
- **无分类 (0.0)**: 无匹配关键词

### 置信度调整因素
- **定制件标识**: +0.2 置信度
- **标准型号标识**: +0.3 置信度
- **技术规格完整**: +0.1 置信度
- **模糊描述**: -0.2 置信度

## 分类流程

### 自动分类流程
1. **预处理**: 清理文件名，转换为小写
2. **关键词匹配**: 遍历所有分类关键词库
3. **评分计算**: 计算各类别匹配得分
4. **置信度评估**: 根据匹配情况计算置信度
5. **结果输出**: 输出最终分类结果和置信度

### 人工审核规则
- **低置信度记录**: 置信度 < 0.5 的记录需人工审核
- **冲突分类**: 匹配多个类别的记录需人工确认
- **新类别**: 无法分类的记录需人工添加新规则

## 分类质量控制

### 质量指标
- **分类准确率**: 正确分类的记录数 / 总分类记录数
- **覆盖率**: 已分类记录数 / 总记录数
- **置信度分布**: 高、中、低置信度记录的比例

### 质量改进措施
- **关键词库维护**: 定期更新和完善关键词
- **规则优化**: 根据分类结果优化匹配规则
- **样本学习**: 从人工确认结果中学习新模式
- **反馈机制**: 建立用户反馈和错误纠正机制

## 附录

### A. 分类编码规则
```
一级分类代码：
- 紧固件: FAS
- 家具: FUR
- 建材: BUL

二级分类代码：
- 螺栓螺钉: BOL_SCR
- 螺母: NUT
- 垫圈垫片: WAS
- 销铆钉: PIN_RIV
- 座椅类: SEA
- 桌台类: TAB
- 沙发类: SOF
- 柜架类: CAB
- 床具类: BED
- 金属材料: MET
- 木材材料: WOD
- 装饰材料: DEC
- 防水保温: WAT_INS

完整编码示例：
- 紧固件-螺栓螺钉: FAS-BOL_SCR
- 家具-座椅类: FUR-SEA
- 建材-金属材料: BUL-MET
```

### B. 分类优先级
1. **精确匹配** > 模糊匹配
2. **多关键词匹配** > 单关键词匹配
3. **技术术语** > 通用描述
4. **定制件标识** > 标准件标识

---

**文档版本**: 1.0
**创建日期**: 2025-11-05
**维护周期**: 每月更新
**责任人**: 知识库管理员