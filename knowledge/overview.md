# AYA Fastener / Homelux / Sinostar çŸ¥è¯†åº“æ¦‚è§ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬çŸ¥è¯†åº“ç³»ç»Ÿä¸º AYA Fastenerã€Homelux Technology å’Œ Sinostar ä¸‰å®¶å…¬å¸å»ºç«‹ï¼Œç”¨äºç®¡ç†å®¢æˆ·èµ„æ–™ã€å›¾çº¸æ–‡ä»¶ã€å·¥å‚æŠ¥ä»·å’Œä¸šåŠ¡æµç¨‹ã€‚

**å…¬å¸èƒŒæ™¯**:
- **AYA Fasteners**: æ²³åŒ—ç´§å›ºä»¶è´¸æ˜“å…¬å¸ï¼Œä¸»è¦å‡ºå£ä¸šåŠ¡
- **Hebei Homelux Technology Co., Ltd**: æ²³åŒ—å®¶å…·å’Œå·¥å…·ç±»è´¸æ˜“å…¬å¸ï¼Œå®¶å…·å’Œç”µåŠ¨å·¥å…·
- **HEBEI SINOSTAR(HK)CO., LIMITED**: æ²³åŒ—å’Œé¦™æ¸¯éƒ½æœ‰è´¸æ˜“å…¬å¸ï¼Œå‡ºå£è´¸æ˜“ï¼Œä¸»è¥å»ºæäº§å“

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

### æ ¸å¿ƒå®ä½“å…³ç³»å›¾

```
Customer (å®¢æˆ·)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ company_name (å…¬å¸åç§°) - æ ¸å¿ƒ
â”œâ”€â”€ contact_email (è”ç³»äººé‚®ç®±) - æ ¸å¿ƒ
â”œâ”€â”€ contact_name (è”ç³»äººå§“å)
â”œâ”€â”€ country (å›½å®¶/åœ°åŒº)
â”œâ”€â”€ language (è¯­è¨€åå¥½)
â”œâ”€â”€ phone (ç”µè¯)
â”œâ”€â”€ first_contact_date (é¦–æ¬¡è”ç³»æ—¥æœŸ)
â””â”€â”€ notes (å¤‡æ³¨)

Drawing (å›¾çº¸)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ drawing_name (å›¾çº¸åç§°)
â”œâ”€â”€ customer_id (FK â†’ Customer.id)
â”œâ”€â”€ product_category (äº§å“ç±»åˆ«)
â”œâ”€â”€ file_path (æ–‡ä»¶è·¯å¾„)
â”œâ”€â”€ upload_date (ä¸Šä¼ æ—¥æœŸ)
â”œâ”€â”€ status (çŠ¶æ€)
â””â”€â”€ notes (å¤‡æ³¨)

Factory (å·¥å‚)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ factory_name (å·¥å‚åç§°)
â”œâ”€â”€ location (åœ°ç†ä½ç½®)
â”œâ”€â”€ capability (ç”Ÿäº§èƒ½åŠ›)
â”œâ”€â”€ cost_reference (æˆæœ¬å‚è€ƒ)
â”œâ”€â”€ production_cycle (ç”Ÿäº§å‘¨æœŸ)
â””â”€â”€ notes (å¤‡æ³¨)

FactoryQuote (å·¥å‚æŠ¥ä»·)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ factory_id (FK â†’ Factory.id)
â”œâ”€â”€ product_category (äº§å“ç±»åˆ«)
â”œâ”€â”€ quote_date (æŠ¥ä»·æ—¥æœŸ)
â”œâ”€â”€ price (ä»·æ ¼)
â”œâ”€â”€ moq (æœ€å°èµ·è®¢é‡)
â””â”€â”€ notes (å¤‡æ³¨)

Specification (è§„æ ¼)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ product_category (äº§å“ç±»åˆ«)
â”œâ”€â”€ material (ææ–™)
â”œâ”€â”€ standard_or_custom (æ ‡å‡†/å®šåˆ¶)
â”œâ”€â”€ surface_treatment (è¡¨é¢å¤„ç†)
â”œâ”€â”€ default_moq (é»˜è®¤æœ€å°èµ·è®¢é‡)
â””â”€â”€ notes (å¤‡æ³¨)

ProcessStatus (å®šåˆ¶æµç¨‹çŠ¶æ€)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ drawing_id (FK â†’ Drawing.id)
â”œâ”€â”€ customer_id (FK â†’ Customer.id)
â”œâ”€â”€ status (çŠ¶æ€)
â”œâ”€â”€ last_update_date (æœ€åæ›´æ–°æ—¥æœŸ)
â””â”€â”€ notes (å¤‡æ³¨)
```

## ğŸ“Š å½“å‰æ•°æ®çŠ¶æ€ (æˆªè‡³ 2025-11-05)

### æ•°æ®ç»Ÿè®¡
- **å®¢æˆ·è®°å½•**: 11 æ¡
- **å›¾çº¸è®°å½•**: 408 æ¡
- **å·¥å‚æ•°é‡**: 2 æ¡
- **æŠ¥ä»·è®°å½•**: 2 æ¡
- **è§„æ ¼è®°å½•**: 2 æ¡
- **æµç¨‹çŠ¶æ€**: 2 æ¡

### å®¢æˆ·åˆ†å¸ƒ
- **ä¸­å›½**: 8 ä¸ªå®¢æˆ· (Homeluxã€é˜³æ˜¶ã€æ²ƒè€³ç‰¹ã€å¯Œå”ã€æ˜Šæ…•å®¶ã€UFä¼˜çººã€Lejiangç­‰)
- **å·´æ—**: 2 ä¸ªå®¢æˆ· (AYA Fastenersã€å·´æ—å®¢æˆ·)
- **ç¾å›½**: 1 ä¸ªå®¢æˆ·

### å›¾çº¸åˆ†ç±»
- **æœªåˆ†ç±»**: 381 ä¸ªæ–‡ä»¶ (éœ€è¦è¿›ä¸€æ­¥æ•´ç†)
- **screw**: 18 ä¸ªæ–‡ä»¶
- **å«ç‰‡**: 3 ä¸ªæ–‡ä»¶
- **nut**: 2 ä¸ªæ–‡ä»¶
- **washer**: 1 ä¸ªæ–‡ä»¶
- **å®šåˆ¶é½¿è½®**: 1 ä¸ªæ–‡ä»¶
- **ç²¾å¯†èºä¸**: 1 ä¸ªæ–‡ä»¶

## ğŸ” æŸ¥è¯¢åŠŸèƒ½

### åŸºç¡€æŸ¥è¯¢
```bash
# æŸ¥çœ‹æ¦‚è§ˆç»Ÿè®¡
python3 query_overview.py

# äº¤äº’å¼æŸ¥è¯¢
python3 query_overview.py --interactive
```

### å¸¸ç”¨æŸ¥è¯¢ç¤ºä¾‹

#### 1. å®¢æˆ·æŸ¥è¯¢
```sql
-- æŸ¥çœ‹æ‰€æœ‰å®¢æˆ·
SELECT * FROM customers ORDER BY company_name;

-- æŒ‰å›½å®¶æŸ¥è¯¢å®¢æˆ·
SELECT * FROM customers WHERE country = 'å·´æ—';

-- æœç´¢å®¢æˆ·
SELECT * FROM customers WHERE company_name LIKE '%AYA%';
```

#### 2. å›¾çº¸æŸ¥è¯¢
```sql
-- æŒ‰å®¢æˆ·æŸ¥è¯¢å›¾çº¸
SELECT d.*, c.company_name
FROM drawings d
LEFT JOIN customers c ON d.customer_id = c.id
WHERE c.company_name = 'AYA Fasteners';

-- æŒ‰ç±»åˆ«æŸ¥è¯¢å›¾çº¸
SELECT * FROM drawings WHERE product_category = 'screw';

-- æœªå…³è”å®¢æˆ·çš„å›¾çº¸
SELECT * FROM drawings WHERE customer_id IS NULL;
```

#### 3. ä¸šåŠ¡åˆ†ææŸ¥è¯¢
```sql
-- å®¢æˆ·å…³è”ç‡
SELECT
    COUNT(*) as total_drawings,
    COUNT(customer_id) as linked_drawings,
    ROUND(COUNT(customer_id) * 100.0 / COUNT(*), 1) as linkage_rate
FROM drawings;

-- æŒ‰äº§å“ç±»åˆ«ç»Ÿè®¡
SELECT product_category, COUNT(*) as count
FROM drawings
GROUP BY product_category
ORDER BY count DESC;
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
Knowledge base/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ db.sqlite                    # ä¸»æ•°æ®åº“
â”‚   â””â”€â”€ processed/                   # å¤„ç†æ—¥å¿—
â”œâ”€â”€ knowledge/                      # çŸ¥è¯†åº“æ–‡æ¡£
â”‚   â”œâ”€â”€ overview.md                 # æœ¬æ–‡æ¡£
â”‚   â””â”€â”€ reminder_rules.md           # æé†’è§„åˆ™
â”œâ”€â”€ models.py                       # æ•°æ®åº“æ¨¡å‹
â”œâ”€â”€ setup_models.py                 # æ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ query_overview.py               # æŸ¥è¯¢å·¥å…·
â”œâ”€â”€ validate_data.py                # æ•°æ®éªŒè¯
â”œâ”€â”€ optimize_database.py            # æ•°æ®åº“ä¼˜åŒ–
â”œâ”€â”€ ingest_customers.py             # å®¢æˆ·å¯¼å…¥
â”œâ”€â”€ ingest_drawings.py              # å›¾çº¸å¯¼å…¥
â””â”€â”€ prepare_analysis.py             # åˆ†æå‡†å¤‡
```

## ğŸ”„ æ•°æ®æ›´æ–°æµç¨‹

### 1. è‡ªåŠ¨å¯¼å…¥
- **å®¢æˆ·èµ„æ–™**: ç›‘æ§ `/002-å®¢æˆ·/` æ–‡ä»¶å¤¹
- **å›¾çº¸æ–‡ä»¶**: ç›‘æ§ `/005-è¯¢ç›˜è¯¢ä»·/` æ–‡ä»¶å¤¹
- **è‡ªåŠ¨è§¦å‘**: é€šè¿‡ Claude Code agents

### 2. æ‰‹åŠ¨å¯¼å…¥
```bash
# å®Œæ•´å¯¼å…¥
python3 knowledge_base_manager.py full-import

# åˆ†åˆ«å¯¼å…¥
python3 knowledge_base_manager.py import-customers
python3 knowledge_base_manager.py import-drawings
```

### 3. æ•°æ®éªŒè¯
```bash
# éªŒè¯æ•°æ®å®Œæ•´æ€§
python3 validate_data.py

# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
python3 knowledge_base_manager.py stats
```

## ğŸ’¡ ä¸šåŠ¡é‡ç‚¹é¢†åŸŸ

### 1. ç´§å›ºä»¶ä¸šåŠ¡ (æ ¸å¿ƒ)
- **ä¸»è¦å®¢æˆ·**: AYA Fasteners (å·´æ—)
- **äº§å“ç±»å‹**: èºä¸ã€èºæ¯ã€å«ç‰‡ã€é’»å°¾èºä¸ç­‰
- **å·¥å‚èµ„æº**: é˜³æ˜¶ç²¾å¯†åˆ¶é€ ã€æ²ƒè€³ç‰¹äº”é‡‘ç§‘æŠ€ç­‰
- **æ–‡ä»¶ç±»å‹**: æŠ€æœ¯å›¾çº¸ã€æŠ¥ä»·å•ã€éªŒè´§æŠ¥å‘Š

### 2. å®¶å…·ä¸šåŠ¡ (æ‰©å±•)
- **ä¸»è¦å®¢æˆ·**: Lejiang Furnitureã€æ˜Šæ…•å®¶
- **äº§å“ç±»å‹**: åŠå…¬æ¤…ã€å®¶å…·é…ä»¶
- **ç›¸å…³æ–‡ä»¶**: Quotation sheetã€éªŒè´§æŠ¥å‘Š

### 3. è´¸æ˜“ä»£ç† (Sinostar)
- **åŠŸèƒ½**: å‡ºå£ä»£ç†ã€å½¢å¼å‘ç¥¨ã€é”€å”®åˆåŒ
- **æ–‡ä»¶ç±»å‹**: PIã€Commercial Invoiceã€Packing List

## âš ï¸ æ•°æ®è´¨é‡æé†’

### å½“å‰é—®é¢˜
1. **å®¢æˆ·å…³è”ç‡ä½**: ä»… 1.7% (7/408)
2. **æœªåˆ†ç±»å›¾çº¸**: 381 ä¸ªæ–‡ä»¶éœ€è¦åˆ†ç±»
3. **é‚®ç®±æ ¼å¼**: éƒ¨åˆ†å®¢æˆ·é‚®ç®±éœ€è¦éªŒè¯

### æ”¹è¿›å»ºè®®
1. **å¢å¼ºè‡ªåŠ¨åŒ¹é…**: æ”¹è¿›ä»æ–‡ä»¶åæ¨æ–­å®¢æˆ·çš„ç®—æ³•
2. **æ‰‹åŠ¨å…³è”**: é‡ç‚¹å®¢æˆ·å›¾çº¸æ‰‹åŠ¨å…³è”
3. **æ•°æ®æ¸…ç†**: æ ‡å‡†åŒ–é‚®ç®±æ ¼å¼å’Œåˆ†ç±»æ ‡ç­¾

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸ (1-2å‘¨)
- [ ] æé«˜å®¢æˆ·å›¾çº¸å…³è”ç‡åˆ° 50% ä»¥ä¸Š
- [ ] å®Œæˆä¸»è¦å›¾çº¸åˆ†ç±»æ ‡æ³¨
- [ ] å»ºç«‹æŠ¥ä»·å†å²è·Ÿè¸ª

### ä¸­æœŸ (1ä¸ªæœˆ)
- [ ] é›†æˆæŠ¥ä»·åˆ†æåŠŸèƒ½
- [ ] å»ºç«‹è‡ªåŠ¨åŒ–æé†’ç³»ç»Ÿ
- [ ] å®Œå–„ä¸šåŠ¡æµç¨‹çŠ¶æ€è·Ÿè¸ª

### é•¿æœŸ (3ä¸ªæœˆ)
- [ ] é›†æˆERPç³»ç»Ÿæ¥å£
- [ ] å»ºç«‹å®¢æˆ·å…³ç³»ç®¡ç†(CRM)åŠŸèƒ½
- [ ] å®ç°ä¸šåŠ¡æ™ºèƒ½åˆ†æ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æ—¥å¸¸ç»´æŠ¤
```bash
# æ•°æ®åº“å¤‡ä»½
cp data/db.sqlite backups/db_backup_$(date +%Y%m%d).sqlite

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
python3 knowledge_base_manager.py cleanup

# æ€§èƒ½ä¼˜åŒ–
python3 optimize_database.py
```

### æ•…éšœæ’é™¤
1. **æ•°æ®åº“é”å®š**: é‡å¯ç›¸å…³è„šæœ¬
2. **æ–‡ä»¶æƒé™**: æ£€æŸ¥åšæœäº‘åŒæ­¥çŠ¶æ€
3. **ä¾èµ–åº“**: `pip3 install pandas openpyxl xlrd PyPDF2 Pillow`

---

**æ–‡æ¡£ç»´æŠ¤**: çŸ¥è¯†åº“æ–‡æ¡£åº”éšä¸šåŠ¡å‘å±•å®šæœŸæ›´æ–°
**æœ€åæ›´æ–°**: 2025-11-05
**ç»´æŠ¤äººå‘˜**: Knowledge Base System